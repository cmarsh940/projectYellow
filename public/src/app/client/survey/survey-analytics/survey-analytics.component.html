<div class="header">
  <h3 class="mat-subheading-2" id="title">{{ survey?.name | titlecase }}</h3>
  <span class="spacer"></span>
  <button mat-icon-button matTooltip="Download Survey" [matMenuTriggerFor]="downloadMenu" id="download-icon">
    <mat-icon>cloud_download</mat-icon>
  </button>
  <mat-menu #downloadMenu="matMenu">
    <button mat-menu-item (click)="downloadJson()">
      Json file
    </button>
    <button mat-menu-item (click)="downloadText()">
      Text file
    </button>
  </mat-menu>

  <h6 class="mat-caption">
    <a href="https://www.surveysbyme.com/takeSurvey/{{ survey?._id }}">URL: www.surveysbyme.com/takeSurvey/{{ survey?._id }}</a>
  </h6>
</div>

<div id="survey" *ngFor="let question of questions; let i = index">
  <h4 class="subheading-1">#{{ i + 1 }}  {{ question.question }}</h4>
  <div class="answers" *ngFor="let answer of question.answers; let j = index">
    <div *ngIf="question.questionType !== 'date'">
      <h5>{{ j + 1 }} |  {{ answer }}</h5>
    </div>
    <div *ngIf="question.questionType === 'date'">
      <h5>{{ j + 1 }} | {{ answer | date }}</h5>
    </div>
  </div>
  <mat-divider>
  </mat-divider>
</div>
<div id="button-group">
  <button mat-raised-button (tap)="back()" color="primary">View All Surveys</button>
</div>